{"version":3,"sources":["file:///D:/CongViec_HocTap/CongTy/Amobear/SupermarketTycoon3D/assets/Scripts/Others/CTA.ts"],"names":["_decorator","Component","easing","Label","Node","tween","Vec3","GameInfo","GameController","ccclass","property","CTA","start","activeBtnAnim","isToStore","IsShowPopupInstall","label","getComponentInChildren","isWin","string","CTA_overlay","on","EventType","TOUCH_START","installHandle","CTA_Btn","originalScale","getScale","repeatForever","to","scale","x","y","z","elasticOut"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,I,OAAAA,I;;AACnDC,MAAAA,Q,iBAAAA,Q;;AACAC,MAAAA,c,iBAAAA,c;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBV,U;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;qBAGaW,G,WADZF,OAAO,CAAC,KAAD,C,UAGHC,QAAQ;AAAA;AAAA,2C,UAGRA,QAAQ,CAACN,IAAD,C,UAGRM,QAAQ,CAACN,IAAD,C,oCATb,MACaO,GADb,SACyBV,SADzB,CACmC;AAAA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAYrBW,QAAAA,KAAK,GAAS;AACpB,eAAKC,aAAL;AAEA;AAAA;AAAA,oCAASC,SAAT,GAAqB,IAArB;AAEA;AAAA;AAAA,oCAASC,kBAAT,GAA8B,IAA9B;AAEA,cAAIC,KAAY,GAAG,KAAKC,sBAAL,CAA4Bd,KAA5B,CAAnB;;AAEA,cAAG;AAAA;AAAA,oCAASe,KAAZ,EAAmB;AACfF,YAAAA,KAAK,CAACG,MAAN,GAAe,WAAf;AACH,WAFD,MAEO;AACHH,YAAAA,KAAK,CAACG,MAAN,GAAe,YAAf;AACH,WAbmB,CAepB;;;AACA,eAAKC,WAAL,CAAiBC,EAAjB,CAAoBjB,IAAI,CAACkB,SAAL,CAAeC,WAAnC,EAAgD,KAAKf,cAAL,CAAoBgB,aAApE,EAAmF,IAAnF,EAhBoB,CAkBpB;;AACA,eAAKC,OAAL,CAAaJ,EAAb,CAAgBjB,IAAI,CAACkB,SAAL,CAAeC,WAA/B,EAA4C,KAAKf,cAAL,CAAoBgB,aAAhE,EAA+E,IAA/E;AACH;;AAGOX,QAAAA,aAAa,GAAS;AAC1B,cAAMa,aAAa,GAAG,KAAKD,OAAL,CAAaE,QAAb,EAAtB;AACAtB,UAAAA,KAAK,CAAC,KAAKoB,OAAN,CAAL,CACKG,aADL,CAEQvB,KAAK,CAAC,KAAKoB,OAAN,CAAL,CACKI,EADL,CACQ,GADR,EACa;AAAEC,YAAAA,KAAK,EAAE,IAAIxB,IAAJ,CAASoB,aAAa,CAACK,CAAd,GAAkB,IAA3B,EAAiCL,aAAa,CAACM,CAAd,GAAkB,IAAnD,EAAyDN,aAAa,CAACO,CAAd,GAAkB,IAA3E;AAAT,WADb,EAEKJ,EAFL,CAEQ,GAFR,EAEa;AAAEC,YAAAA,KAAK,EAAEJ;AAAT,WAFb,EAEuC;AAAExB,YAAAA,MAAM,EAAEA,MAAM,CAACgC;AAAjB,WAFvC,CAFR,EAKMtB,KALN;AAMH;;AA3C8B,O;;;;;iBAGE,I;;;;;;;iBAGb,I;;;;;;;iBAGJ,I;;;AAqCpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["\nimport { _decorator, Component, easing, Label, Node, tween, Vec3 } from 'cc';\nimport { GameInfo } from '../Const/GameInfo';\nimport { GameController } from '../Controller/GameController';\nconst { ccclass, property } = _decorator;\n\n/**\n * Predefined variables\n * Name = CTA\n * DateTime = Fri Jan 03 2025 16:30:31 GMT+0700 (Indochina Time)\n * Author = hoanghiep2001\n * FileBasename = CTA.ts\n * FileBasenameNoExtension = CTA\n * URL = db://assets/Scripts/Others/CTA.ts\n * ManualUrl = https://docs.cocos.com/creator/3.4/manual/en/\n *\n */\n \n@ccclass('CTA')\nexport class CTA extends Component {\n\n    @property(GameController)\n    GameController: GameController = null;\n\n    @property(Node)\n    CTA_overlay: Node = null;\n\n    @property(Node)\n    CTA_Btn: Node = null;\n\n\n    protected start(): void {\n        this.activeBtnAnim();\n\n        GameInfo.isToStore = true;\n\n        GameInfo.IsShowPopupInstall = true;\n\n        let label: Label = this.getComponentInChildren(Label);\n        \n        if(GameInfo.isWin) {\n            label.string = \"CONTINUE!\";\n        } else {\n            label.string = \"TRY AGAIN!\";\n        }\n\n        // mtg & applovin\n        this.CTA_overlay.on(Node.EventType.TOUCH_START, this.GameController.installHandle, this);\n\n        // others\n        this.CTA_Btn.on(Node.EventType.TOUCH_START, this.GameController.installHandle, this);\n    }\n\n\n    private activeBtnAnim(): void {\n        const originalScale = this.CTA_Btn.getScale();\n        tween(this.CTA_Btn)\n            .repeatForever(\n                tween(this.CTA_Btn)\n                    .to(0.5, { scale: new Vec3(originalScale.x + 0.05, originalScale.y + 0.05, originalScale.z + 0.05) })\n                    .to(0.5, { scale: originalScale }, { easing: easing.elasticOut })\n            ).start();\n    }\n}\n\n/**\n * [1] Class member could be defined like this.\n * [2] Use `property` decorator if your want the member to be serializable.\n * [3] Your initialization goes here.\n * [4] Your update function goes here.\n *\n * Learn more about scripting: https://docs.cocos.com/creator/3.4/manual/en/scripting/\n * Learn more about CCClass: https://docs.cocos.com/creator/3.4/manual/en/scripting/decorator.html\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.4/manual/en/scripting/life-cycle-callbacks.html\n */\n"]}
{"version":3,"sources":["file:///D:/IEC/Testing/Amobear_Supermarket/assets/Scripts/Options/PA_06/PA_06_TimeCountDown.ts"],"names":["_decorator","Component","Node","UITransform","GameInfo","ccclass","property","PA_06_TimeCountDown","start","deCreaseTime","isTimeOver","UItransform","UI_Time","getComponent","width","isLose","PA_06","scheduleOnce","destroyThis","node","active","destroy","update","dt","isStartPlaying","isDoneStockItem"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,W,OAAAA,W;;AAC7BC,MAAAA,Q,iBAAAA,Q;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;qCAGaO,mB,WADZF,OAAO,CAAC,qBAAD,C,UAEHC,QAAQ,CAACJ,IAAD,C,oCAFb,MACaK,mBADb,SACyCN,SADzC,CACmD;AAAA;AAAA;;AAAA;;AAAA,8CAKzB,KALyB;AAAA;;AAQrCO,QAAAA,KAAK,GAAS,CAEvB;;AAGOC,QAAAA,YAAY,GAAS;AACzB,cAAG,KAAKC,UAAR,EAAoB;AAEpB,gBAAMC,WAAW,GAAG,KAAKC,OAAL,CAAaC,YAAb,CAA0BV,WAA1B,CAApB;AACAQ,UAAAA,WAAW,CAACG,KAAZ,IAAqB,GAArB;;AAEA,cAAGH,WAAW,CAACG,KAAZ,IAAqB,CAAxB,EAA2B;AACvB;AAAA;AAAA,sCAASC,MAAT,GAAkB,IAAlB;AACA,iBAAKL,UAAL,GAAkB,IAAlB;AACA;AAAA;AAAA,sCAASM,KAAT,CAAeN,UAAf,GAA4B,IAA5B;AACA,iBAAKO,YAAL,CAAkB,MAAM,KAAKC,WAAL,EAAxB,EAA4C,CAA5C;AACH;AACJ;;AAGOA,QAAAA,WAAW,GAAS;AACxB,eAAKC,IAAL,CAAUC,MAAV,GAAmB,KAAnB;AACA,eAAKC,OAAL;AACH;;AAGSC,QAAAA,MAAM,CAACC,EAAD,EAAmB;AAC/B,cAAG;AAAA;AAAA,oCAASP,KAAT,CAAeQ,cAAlB,EAAkC,KAAKf,YAAL;AAClC,cAAG;AAAA;AAAA,oCAASO,KAAT,CAAeS,eAAf,IAAkC,CAAC,KAAKf,UAAxC,IAAsD,KAAKS,IAAL,CAAUC,MAAnE,EAA2E,KAAKF,WAAL;AAC9E;;AArC8C,O;;;;;iBAE/B,I;;;AAsCpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["\r\nimport { _decorator, Component, Node, UITransform } from 'cc';\r\nimport { GameInfo } from '../../Const/GameInfo';\r\nconst { ccclass, property } = _decorator;\r\n\r\n/**\r\n * Predefined variables\r\n * Name = PA_06_TimeCountDown\r\n * DateTime = Fri Jan 03 2025 15:52:50 GMT+0700 (Indochina Time)\r\n * Author = hoanghiep2001\r\n * FileBasename = PA_06_TimeCountDown.ts\r\n * FileBasenameNoExtension = PA_06_TimeCountDown\r\n * URL = db://assets/Scripts/Options/PA_06/PA_06_TimeCountDown.ts\r\n * ManualUrl = https://docs.cocos.com/creator/3.4/manual/en/\r\n *\r\n */\r\n \r\n@ccclass('PA_06_TimeCountDown')\r\nexport class PA_06_TimeCountDown extends Component {\r\n    @property(Node)\r\n    UI_Time: Node = null;\r\n\r\n\r\n    isTimeOver: boolean = false;\r\n\r\n\r\n    protected start(): void {\r\n        \r\n    }\r\n\r\n\r\n    private deCreaseTime(): void {\r\n        if(this.isTimeOver) return;\r\n\r\n        const UItransform = this.UI_Time.getComponent(UITransform);\r\n        UItransform.width -= 0.8;\r\n        \r\n        if(UItransform.width <= 0) {\r\n            GameInfo.isLose = true;\r\n            this.isTimeOver = true;\r\n            GameInfo.PA_06.isTimeOver = true;\r\n            this.scheduleOnce(() => this.destroyThis(), 1);\r\n        }\r\n    }\r\n\r\n\r\n    private destroyThis(): void {\r\n        this.node.active = false;\r\n        this.destroy();\r\n    }\r\n\r\n\r\n    protected update(dt: number): void {\r\n        if(GameInfo.PA_06.isStartPlaying) this.deCreaseTime();\r\n        if(GameInfo.PA_06.isDoneStockItem && !this.isTimeOver && this.node.active) this.destroyThis();\r\n    }\r\n}\r\n\r\n/**\r\n * [1] Class member could be defined like this.\r\n * [2] Use `property` decorator if your want the member to be serializable.\r\n * [3] Your initialization goes here.\r\n * [4] Your update function goes here.\r\n *\r\n * Learn more about scripting: https://docs.cocos.com/creator/3.4/manual/en/scripting/\r\n * Learn more about CCClass: https://docs.cocos.com/creator/3.4/manual/en/scripting/decorator.html\r\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.4/manual/en/scripting/life-cycle-callbacks.html\r\n */\r\n"]}
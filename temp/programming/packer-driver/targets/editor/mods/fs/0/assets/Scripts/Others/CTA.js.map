{"version":3,"sources":["file:///D:/IEC/Testing/Amobear_Supermarket/assets/Scripts/Others/CTA.ts"],"names":["_decorator","Component","easing","Label","Node","tween","Vec3","GameInfo","GameController","ccclass","property","CTA","start","activeBtnAnim","isToStore","IsShowPopupInstall","label","getComponentInChildren","isWin","string","CTA_overlay","on","EventType","TOUCH_START","installHandle","CTA_Btn","originalScale","getScale","repeatForever","to","scale","x","y","z","elasticOut"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,I,OAAAA,I;;AACnDC,MAAAA,Q,iBAAAA,Q;;AACAC,MAAAA,c,iBAAAA,c;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBV,U;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;qBAGaW,G,WADZF,OAAO,CAAC,KAAD,C,UAGHC,QAAQ;AAAA;AAAA,2C,UAGRA,QAAQ,CAACN,IAAD,C,UAGRM,QAAQ,CAACN,IAAD,C,oCATb,MACaO,GADb,SACyBV,SADzB,CACmC;AAAA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAYrBW,QAAAA,KAAK,GAAS;AACpB,eAAKC,aAAL;AAEA;AAAA;AAAA,oCAASC,SAAT,GAAqB,IAArB;AAEA;AAAA;AAAA,oCAASC,kBAAT,GAA8B,IAA9B;AAEA,cAAIC,KAAY,GAAG,KAAKC,sBAAL,CAA4Bd,KAA5B,CAAnB;;AAEA,cAAG;AAAA;AAAA,oCAASe,KAAZ,EAAmB;AACfF,YAAAA,KAAK,CAACG,MAAN,GAAe,WAAf;AACH,WAFD,MAEO;AACHH,YAAAA,KAAK,CAACG,MAAN,GAAe,YAAf;AACH,WAbmB,CAepB;;;AACA,eAAKC,WAAL,CAAiBC,EAAjB,CAAoBjB,IAAI,CAACkB,SAAL,CAAeC,WAAnC,EAAgD,KAAKf,cAAL,CAAoBgB,aAApE,EAAmF,IAAnF,EAhBoB,CAkBpB;;AACA,eAAKC,OAAL,CAAaJ,EAAb,CAAgBjB,IAAI,CAACkB,SAAL,CAAeC,WAA/B,EAA4C,KAAKf,cAAL,CAAoBgB,aAAhE,EAA+E,IAA/E;AACH;;AAGOX,QAAAA,aAAa,GAAS;AAC1B,gBAAMa,aAAa,GAAG,KAAKD,OAAL,CAAaE,QAAb,EAAtB;AACAtB,UAAAA,KAAK,CAAC,KAAKoB,OAAN,CAAL,CACKG,aADL,CAEQvB,KAAK,CAAC,KAAKoB,OAAN,CAAL,CACKI,EADL,CACQ,GADR,EACa;AAAEC,YAAAA,KAAK,EAAE,IAAIxB,IAAJ,CAASoB,aAAa,CAACK,CAAd,GAAkB,IAA3B,EAAiCL,aAAa,CAACM,CAAd,GAAkB,IAAnD,EAAyDN,aAAa,CAACO,CAAd,GAAkB,IAA3E;AAAT,WADb,EAEKJ,EAFL,CAEQ,GAFR,EAEa;AAAEC,YAAAA,KAAK,EAAEJ;AAAT,WAFb,EAEuC;AAAExB,YAAAA,MAAM,EAAEA,MAAM,CAACgC;AAAjB,WAFvC,CAFR,EAKMtB,KALN;AAMH;;AA3C8B,O;;;;;iBAGE,I;;;;;;;iBAGb,I;;;;;;;iBAGJ,I;;;AAqCpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["\r\nimport { _decorator, Component, easing, Label, Node, tween, Vec3 } from 'cc';\r\nimport { GameInfo } from '../Const/GameInfo';\r\nimport { GameController } from '../Controller/GameController';\r\nconst { ccclass, property } = _decorator;\r\n\r\n/**\r\n * Predefined variables\r\n * Name = CTA\r\n * DateTime = Fri Jan 03 2025 16:30:31 GMT+0700 (Indochina Time)\r\n * Author = hoanghiep2001\r\n * FileBasename = CTA.ts\r\n * FileBasenameNoExtension = CTA\r\n * URL = db://assets/Scripts/Others/CTA.ts\r\n * ManualUrl = https://docs.cocos.com/creator/3.4/manual/en/\r\n *\r\n */\r\n \r\n@ccclass('CTA')\r\nexport class CTA extends Component {\r\n\r\n    @property(GameController)\r\n    GameController: GameController = null;\r\n\r\n    @property(Node)\r\n    CTA_overlay: Node = null;\r\n\r\n    @property(Node)\r\n    CTA_Btn: Node = null;\r\n\r\n\r\n    protected start(): void {\r\n        this.activeBtnAnim();\r\n\r\n        GameInfo.isToStore = true;\r\n\r\n        GameInfo.IsShowPopupInstall = true;\r\n\r\n        let label: Label = this.getComponentInChildren(Label);\r\n        \r\n        if(GameInfo.isWin) {\r\n            label.string = \"CONTINUE!\";\r\n        } else {\r\n            label.string = \"TRY AGAIN!\";\r\n        }\r\n\r\n        // mtg & applovin\r\n        this.CTA_overlay.on(Node.EventType.TOUCH_START, this.GameController.installHandle, this);\r\n\r\n        // others\r\n        this.CTA_Btn.on(Node.EventType.TOUCH_START, this.GameController.installHandle, this);\r\n    }\r\n\r\n\r\n    private activeBtnAnim(): void {\r\n        const originalScale = this.CTA_Btn.getScale();\r\n        tween(this.CTA_Btn)\r\n            .repeatForever(\r\n                tween(this.CTA_Btn)\r\n                    .to(0.5, { scale: new Vec3(originalScale.x + 0.05, originalScale.y + 0.05, originalScale.z + 0.05) })\r\n                    .to(0.5, { scale: originalScale }, { easing: easing.elasticOut })\r\n            ).start();\r\n    }\r\n}\r\n\r\n/**\r\n * [1] Class member could be defined like this.\r\n * [2] Use `property` decorator if your want the member to be serializable.\r\n * [3] Your initialization goes here.\r\n * [4] Your update function goes here.\r\n *\r\n * Learn more about scripting: https://docs.cocos.com/creator/3.4/manual/en/scripting/\r\n * Learn more about CCClass: https://docs.cocos.com/creator/3.4/manual/en/scripting/decorator.html\r\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.4/manual/en/scripting/life-cycle-callbacks.html\r\n */\r\n"]}